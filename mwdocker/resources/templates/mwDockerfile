#
# This dockerfile was generated by pymediawikidocker {{pmwdVersion}} at {{timestamp}}
# see http://wiki.bitplan.com/index.php/Pymediawikidocker
#
FROM mediawiki:{{mwVersion}}

MAINTAINER Wolfgang Fahl <wf@bitplan.com>

# install some more utilities
RUN apt-get -y update && \
    apt-get -y --no-install-recommends --fix-missing install \
    mariadb-client \
    inetutils-ping \
    cron \
    curl \
    git \
    graphviz \
    imagemagick \
    procps \
    ssh-client \
    vim \
    unzip \
    libzip-dev \
    zip \
    && docker-php-ext-install zip \
    && rm -rf /var/lib/apt/lists/*

# install composer
RUN curl -sS https://getcomposer.org/installer | php \
    && mv composer.phar /usr/local/bin/composer

# make sure to use version {{composerVersion}} of composer
# https://blog.packagist.com/deprecating-composer-1-support/
RUN composer self-update --{{composerVersion}}